```
Задача 4 — Unsafe Deserialization (pickle)
Идея: Зареждаш произволни Python обекти чрез pickle.loads и евентуално извикваш obj.run().
Уязвимост: Pickle може да изпълни произволен код при десериализация.
Експлойт: Подаване на клас, чийто __reduce__/run() изпълнява нещо.
Поправка:
    • Замени pickle с JSON (или друг безопасен формат),
    • Ограничен whitelisting при десериализация (сложно и рядко оправдано).
Приемни критерии:
    • В vulnerable създава маркер pickle_pwn в temp.
    • В fixed няма RCE; при опит да прочете pickle от JSON файл → грешка/без маркер.
Чести капани:
    • Твърд /tmp/... път → не работи на Windows (ползвай tempfile.gettempdir()).
    • Запазваш уязвимостта в fixed (забравена смяна на формат).
Hints:
    • Hint 1: “Кое е безопасното: pickle или JSON, и защо?”
    • Hint 2: “Какво означава ‘code execution on deserialization’?”
    • Hint 3: “Къде физически се записва/чете файлът?”
Разширение: Подписване/вързаност на данните (HMAC) ако трябва целостност.
```